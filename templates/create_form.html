{% load static %}
    <div class="row">
        
        <div class="col-md-6 dropdown" >
            <form method="post" class="card crate-form" style="margin:10px;padding:10px;">
                <label>Zerojudge抓取：<input id="ZeroJudgeNumber"></input><button onclick="GetZeroJudge({{cid}})">GET</button></label> 
                {% csrf_token %}
                {{ problem_form.as_p }}
                {{ formset.management_form }}

                <label>測試資料輸入</label>
                {% for form in formset %}
                <hr>
                <div class="row">
                    {% for field in form %}
                        {% if field.label != "Problem" %}
                        <div class="form-group col-md-6">
                            <label id="{{ field.id_for_label}}">{{field.label}}</label>
                            {{ field }}
                        </div>
                        {% endif %}

                    {% endfor %}
                </div>
            {% endfor %}
                <button type="submit">Submit</button>
                <button onclick="addFormset()">Add Formset</button> <!-- Add this line -->
                
            </form>
        </div>
        <div class="col-md-6 card" >
                <embed src="{% static "latex/" %}{{cid}}/dom/problem.pdf" width="100%" height="100%" type="application/pdf">
        </div>
    </div>

<script>
    function GetZeroJudge(cid) {
        const number = document.getElementById("ZeroJudgeNumber").value;
        event.preventDefault();
        $.ajax({
            url: "/getZerojudge/" + cid ,
            type: "POST",
            data: {
                "ZeroJudgeNumber":number,
                "csrfmiddlewaretoken": "{{ csrf_token }}"
            },
            success: function (data) {
                const createDiv = $("#CreateForm")
                createDiv.html(data)

            },
            error: function (xhr, ajaxOptions, thrownError) {
                alert(xhr.status);
                alert(thrownError);
            }
        });
    }

    function addFormset() {

    }
</script>